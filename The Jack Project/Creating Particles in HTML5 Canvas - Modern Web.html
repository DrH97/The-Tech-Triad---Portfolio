<!DOCTYPE html>
<!-- saved from url=(0057)https://modernweb.com/creating-particles-in-html5-canvas/ -->
<html lang="en-US" prefix="og: http://ogp.me/ns#" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<title> Creating Particles in HTML5 Canvas - Modern Web</title>
<link rel="apple-touch-icon-precomposed" href="https://modernweb.com/wp-content/themes/modern-web/favicon-152.png">
<link rel="icon" href="https://modernweb.com/wp-content/themes/modern-web/favicon-32.png" sizes="32x32">
<link rel="shortcut icon" sizes="196x196" href="https://modernweb.com/wp-content/themes/modern-web/favicon-196.png">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="https://modernweb.com/wp-content/themes/modern-web/favicon-144.png">
<link rel="stylesheet" href="./Creating Particles in HTML5 Canvas - Modern Web_files/style.css">
<meta property="og:title" content="Creating Particles in HTML5 Canvas">
<meta name="twitter:title" content="Creating Particles in HTML5 Canvas">
<meta property="og:type" content="article">
<meta property="og:url" content="https://modernweb.com/creating-particles-in-html5-canvas/">
<meta property="og:site_name" content="Creating Particles in HTML5 Canvas - Modern Web">
<meta property="og:description" content="Top software development companies vetted by Modern Web">
<meta property="og:image" content="https://modernweb.com/wp-content/uploads/2014/06/partcles_header-670x300.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@modernwebhq">
<meta name="twitter:description" content="Top software development companies vetted by Modern Web">

<meta name="description" content="By Donovan Hutchinson Canvas is an exciting new way to create animated content for the web. With it you can create eye-catching animation in the web browse">
<link rel="canonical" href="https://modernweb.com/creating-particles-in-html5-canvas/">
<link rel="publisher" href="https://plus.google.com/+ModernWebHQ">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Creating Particles in HTML5 Canvas - Modern Web">
<meta property="og:description" content="By Donovan Hutchinson Canvas is an exciting new way to create animated content for the web. With it you can create eye-catching animation in the web browse">
<meta property="og:url" content="https://modernweb.com/creating-particles-in-html5-canvas/">
<meta property="og:site_name" content="Modern Web">
<meta property="article:publisher" content="https://www.facebook.com/modernwebhq">
<meta property="article:section" content="Backend Development">
<meta property="article:published_time" content="2014-06-25T14:02:41-06:00">
<meta property="article:modified_time" content="2016-11-14T10:56:34-06:00">
<meta property="og:updated_time" content="2016-11-14T10:56:34-06:00">
<meta property="og:image" content="https://modernweb.com/wp-content/uploads/2014/06/partcles_header.jpg">
<meta property="og:image:secure_url" content="https://modernweb.com/wp-content/uploads/2014/06/partcles_header.jpg">
<meta property="og:image:width" content="670">
<meta property="og:image:height" content="440">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="By Donovan Hutchinson Canvas is an exciting new way to create animated content for the web. With it you can create eye-catching animation in the web browse">
<meta name="twitter:title" content="Creating Particles in HTML5 Canvas - Modern Web">
<meta name="twitter:site" content="@modernwebhq">
<meta name="twitter:image" content="https://modernweb.com/wp-content/uploads/2014/06/partcles_header.jpg">
<meta name="twitter:creator" content="@modernwebhq">

<link rel="dns-prefetch" href="https://a.optnmstr.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Modern Web » Creating Particles in HTML5 Canvas Comments Feed" href="https://modernweb.com/creating-particles-in-html5-canvas/feed/">
<link rel="stylesheet" id="gglcptch-css" href="./Creating Particles in HTML5 Canvas - Modern Web_files/gglcptch.css" type="text/css" media="all">
<script type="text/javascript" async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/js"></script><script type="text/javascript" async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ProcessStats.aspx"></script><script type="text/javascript" async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/fewliveasync.js.download"></script><script id="hs-analytics" src="./Creating Particles in HTML5 Canvas - Modern Web_files/2591117.js.download"></script><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/gtm.js.download"></script><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/analytics.js.download"></script><script type="text/javascript" src="./Creating Particles in HTML5 Canvas - Modern Web_files/jquery.js.download"></script>
<script type="text/javascript" src="./Creating Particles in HTML5 Canvas - Modern Web_files/jquery-migrate.min.js.download"></script>
<script type="text/javascript" data-cfasync="false" id="omapi-script" async="async" src="./Creating Particles in HTML5 Canvas - Modern Web_files/api.min.js.download"></script>
<link rel="https://api.w.org/" href="https://modernweb.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://modernweb.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://modernweb.com/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 4.9.2">
<link rel="shortlink" href="https://modernweb.com/?p=2313">
<link rel="alternate" type="application/json+oembed" href="https://modernweb.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmodernweb.com%2Fcreating-particles-in-html5-canvas%2F">
<link rel="alternate" type="text/xml+oembed" href="https://modernweb.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmodernweb.com%2Fcreating-particles-in-html5-canvas%2F&amp;format=xml">
</head>
<body class="post-template-default single single-post postid-2313 single-format-standard post-creating-particles-in-html5-canvas">
<div class="wrap">
<header class="header">
<div class="container">
<a class="header__logo" href="https://modernweb.com/">
<img src="./Creating Particles in HTML5 Canvas - Modern Web_files/modernweb-logo-light.svg" alt="Modern Web logo" width="190" height="32">
</a>
<button class="header__nav-trigger" id="js-nav-trigger">
<svg class="show-nav" height="6" viewBox="0 0 30.38 6.38">
<circle fill="#92b1b5" cx="3.19" cy="3.19" r="3.19"></circle>
<circle fill="#92b1b5" cx="15.19" cy="3.19" r="3.19"></circle>
<circle fill="#92b1b5" cx="27.19" cy="3.19" r="3.19"></circle>
</svg>
<svg class="close-nav" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
<path d="M0 0h24v24H0z" fill="none"></path>
</svg>
</button>
<nav class="nav">
<ul class="nav__list">
<li class="nav__item">
<a href="https://modernweb.com/articles" class="nav__link">
Articles
<svg x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path d="M13.418,7.859c0.271-0.268,0.709-0.268,0.978,0c0.27,0.268,0.272,0.701,0,0.969l-3.908,3.83 c-0.27,0.268-0.707,0.268-0.979,0l-3.908-3.83c-0.27-0.267-0.27-0.701,0-0.969c0.271-0.268,0.709-0.268,0.978,0L10,11L13.418,7.859z"></path>
</svg>
</a>
<div class="menu-categories-container"><ul id="menu-categories" class="subnav"><li id="menu-item-4274" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4274"><a href="https://modernweb.com/category/design/">Design</a></li>
<li id="menu-item-4272" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4272"><a href="https://modernweb.com/category/frontend-development/">Frontend Development</a></li>
<li id="menu-item-4273" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-4273"><a href="https://modernweb.com/category/backend-development/">Backend Development</a></li>
<li id="menu-item-4276" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4276"><a href="https://modernweb.com/category/devops/">DevOps</a></li>
<li id="menu-item-4275" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4275"><a href="https://modernweb.com/category/work/">Work</a></li>
</ul></div> </li>
<li class="nav__button">
<a href="https://modernweb.com/find-a-team" class="button --secondary">Hire A Team</a>
</li>
</ul>
</nav>
</div>
</header>
<section class="main">
<div class="container">
<article class="article">
<h1>Creating Particles in HTML5 Canvas</h1>
<p class="author-line">
<img alt="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/1a6020189d9fe61133b965ca7a4a78b7" srcset="https://secure.gravatar.com/avatar/1a6020189d9fe61133b965ca7a4a78b7?s=56&amp;d=mm&amp;r=g 2x" class="avatar avatar-28 photo" height="28" width="28"> by <a href="https://modernweb.com/author/donovanh"><strong>Donovan Hutchinson</strong></a>
on June 25, 2014 </p>
<div class="article__meta">
<svg class="article__icon" x="0px" y="0px" viewBox="0 0 20 20">
<path fill="#d0d3d4" d="M18.662,5.521L5.237,19l0.707-4.967l-4.945,0.709L14.424,1.263c0.391-0.392,1.133-0.308,1.412,0l2.826,2.839 C19.162,4.575,19.053,5.128,18.662,5.521z"></path>
</svg>
<div class="article__categories">
<a href="https://modernweb.com/category/backend-development/" rel="category tag">Backend Development</a> </div>
<svg class="article__icon" x="0px" y="0px" viewBox="0 0 20 20">
<path fill="#d0d3d4" d="M16,4H4C2.899,4,2,4.9,2,6v7c0,1.1,0.899,2,2,2h4l4,3v-3h4c1.1,0,2-0.9,2-2V6C18,4.9,17.1,4,16,4z M6,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C7.1,10.107,6.607,10.6,6,10.6z M10,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C11.1,10.107,10.607,10.6,10,10.6z M14,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C15.1,10.107,14.607,10.6,14,10.6z"></path>
</svg>
<a href="https://modernweb.com/creating-particles-in-html5-canvas/#comments"><span class="dsq-postid" data-dsqidentifier="2313 http://flippinawesome.org/?p=2313">2 Comments</span></a>
</div>
<div class="accuracy --archaic">
<p>The modern web is always changing, and this article is more than two years old.</p>
</div>
<div class="article__main-image">
<img width="670" height="300" src="./Creating Particles in HTML5 Canvas - Modern Web_files/partcles_header-670x300.jpg" class="attachment-large size-large wp-post-image" alt=""> </div>
<p><em>By <a href="https://modernweb.com/authors/donovan-hutchinson">Donovan Hutchinson</a></em></p>
<p>Canvas is an exciting new way to create animated content for the web. With it you can create eye-catching animation in the web browser using only HTML and JavaScript, without adding much size to your web pages.</p>
<p>In this article I will explore some ways you can make use of canvas to create particles, bounce them around the screen and respond to gravity.</p>
<h2>The Canvas tag</h2>
<p>HTML5 contains many tags and tools that allow you to create and animate amazing interactive content. This article will focus on the <code>canvas</code> element, and how you can use it to create animated scenes with JavaScript.</p>
<p>Introduced in 2004 by Apple, the <code>canvas</code> tag was initially designed to be used in the webkit-based Safari browser. However after it was adopted by Firefox and Opera it became a web standard and can now be used confidently across all major browsers.</p>
<p>Canvas is frequently used as a basis for HTML-based games as it allows for a self-contained area of a web page, within which you can draw and animate shapes, respond to user input and add interactivity to your page.</p>
<h2>Recommended: Zevan Rosser’s video tutorial</h2>
<p>If you like to watch tutorials, one of the best introductions to the topic is presented by <a href="https://www.youtube.com/watch?v=YCI8uqePkrc">Zevan Rosser</a>. I would like to thank Zevan for the great introduction that helped me get started with <code>canvas</code>. Some of the examples that follow, including extending the Particle prototype, are based on his introduction.</p>
<h3>Follow along</h3>
<p>As we progress through setting up and using Canvas, you’ll find each of the examples <a href="https://github.com/donovanh/particles/tree/master/examples">as a set online</a>, and I’ll link to a live example of each as we go. You’ll also find all the files <a href="https://github.com/donovanh/particles">on Github</a> for you to download.</p>
<h2>A blank canvas</h2>
<p>Since <code>canvas</code> is natively supported by most browsers, there is no need for any additional plugins to get it to work. This means the following code should itself be enough to tell the browser that there is a canvas on the page:</p>
<pre class=" language-markup"><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  This text is displayed if your browser does not support HTML5 Canvas.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>Alternately, you can place a <code>canvas</code> element on a page using JavaScript.</p>
<pre class=" language-markup"><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>You won’t yet see anything on the page! This is ok. The next step is add some color by drawing a rectangle on the canvas that will act as a background.</p>
<p>Continuing the JavaScript we started above, we can make use of the <code>context</code> we created by running the <code>getContext</code> method. This <code>context</code> object is used for all drawing on this <code>canvas</code> element. For example, you could draw a black rectangle like so:</p>
<pre class=" language-javascript"><code class=" language-javascript">context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The <code>fillRect</code> method draws a filled rectangle on the canvas. It is used by setting the starting X and Y values in pixels, then the shape to draw. In this case we start the rectangle at the top left corner (0,0) and draw a rectangle that is the same width and height as the canvas.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_KmBpv" src="./Creating Particles in HTML5 Canvas - Modern Web_files/KmBpv.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 8" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example can be found in the <a href="http://hop.ie/particles/examples/01-canvas.html">examples/01-canvas.html</a> file.</p>
<h2>Introducing a particle</h2>
<p>We have a blank canvas drawn on the page, it’s now time to do some more drawing. We’ll start with a small rectangle that I’ll describe as a particle.</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// Draw a square particle on the canvas</span>
context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"white"</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>When a <code>fillStyle</code> is not specified, it will default to black. So before telling the canvas to draw a rectangle we set it to white. The rectangle this time is drawn at 300 pixels from the left, 200 pixels from the top, and is 10 by 10 pixels in size.</p>
<p>We can also draw other shapes. Canvas includes an <code>arc</code> function that can draw curved shapes, and we can use it to make a round particle.</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// Draw a circle particle on the canvas</span>
context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"white"</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// After setting the fill style, draw an arc on the canvas</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span>PI<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In creating a circle, we draw a path and use the <code>arc</code> method to do so. The <code>arc</code> method expects the following:</p>
<pre class=" language-javascript"><code class=" language-javascript">content<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> startAngle<span class="token punctuation">,</span> endAngle<span class="token punctuation">,</span> anticlockwise<span class="token punctuation">)</span>
</code></pre>
<p>We supply the <code>arc</code> method with a starting point, the size (radius) of the circle, and draw it by giving a start and end angle. If you’d like to learn more about creating circles using JavaScript, a nice interactive tutorial <a href="http://www.scienceprimer.com/drawing-circles-javascript-html5-canvas-element">can be found here</a>.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_CsKoj" src="./Creating Particles in HTML5 Canvas - Modern Web_files/CsKoj.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 7" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example can be found at <a href="http://hop.ie/particles/examples/02-particle.html">examples/02-particle.html</a>.</p>
<h2>Movement</h2>
<p>Moving objects around on a canvas is quite different from how you might have moved HTML elements around. Rather than move an existing object on a page, the illusion of movement is created on a canvas by erasing and redrawing the elements.</p>
<p>To illustrate this, we’ll start by moving the particle and drawing it again a number of times.</p>
<p>First, we’ll establish a starting position in the X and Y axes as variables:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> posX <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
    posY <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre>
<p>We then draw a particle, adjust the position, and repeat:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// Draw shapes on the canvas using an interval of 30ms</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  posX <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  posY <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.25</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Draw a circle particle on the canvas</span>
  context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"white"</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// After setting the fill style, draw an arc on the canvas</span>
  context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>posX<span class="token punctuation">,</span> posY<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span>PI<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="cp_embed_wrapper"><iframe id="cp_embed_CyFub" src="./Creating Particles in HTML5 Canvas - Modern Web_files/CyFub.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 6" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>Press <strong>Rerun</strong> to see the animation play again. This example is at (<a href="http://hop.ie/particles/examples/03-movement-a.html">examples/03-movement-a.html</a>):</p>
<p>Since we are simply redrawing the particle on top of the previous canvas, we’ve created a line of particles. This isn’t quite what we want, so let’s instead erase the canvas each time. Adjust the top of the <code>setInterval</code> function to contain these lines:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Erase canvas</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">;</span>
      context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<p>This will result in the canvas being redrawn each time, creating what looks like the particle moving across the canvas (<code>examples/03-movement-b.html</code>):</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_AaJie" src="./Creating Particles in HTML5 Canvas - Modern Web_files/AaJie.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 5" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example is at (<a href="http://hop.ie/particles/examples/03-movement-b.html">examples/03-movement-b.html</a>):</p>
<p>The basic idea here is that we can draw particles on the canvas, and when we want to move them we “redraw” the blank canvas, adjust where the particle is to be drawn, and draw it again.</p>
<p>We can extend this technique to create more interesting effects.</p>
<div style="clear:both; margin-top:0em; margin-bottom:1em;"><a href="https://modernweb.com/groupon-microservices/" target="_blank" rel="nofollow" class="uaef940c6b7460cfa897fd537c6af013d"><style> .uaef940c6b7460cfa897fd537c6af013d { padding:0px; margin: 0; padding-top:1em!important; padding-bottom:1em!important; width:100%; display: block; font-weight:bold; background-color:#34495E; border:0!important; border-left:4px solid #27AE60!important; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); text-decoration:none; } .uaef940c6b7460cfa897fd537c6af013d:active, .uaef940c6b7460cfa897fd537c6af013d:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; text-decoration:none; } .uaef940c6b7460cfa897fd537c6af013d { transition: background-color 250ms; webkit-transition: background-color 250ms; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; } .uaef940c6b7460cfa897fd537c6af013d .ctaText { font-weight:bold; color:#FFFFFF; text-decoration:none; font-size: 16px; } .uaef940c6b7460cfa897fd537c6af013d .postTitle { color:#FFFFFF; text-decoration: underline!important; font-size: 16px; } .uaef940c6b7460cfa897fd537c6af013d:hover .postTitle { text-decoration: underline!important; } </style><div style="padding-left:1em; padding-right:1em;"><span class="ctaText">See Also:</span>&nbsp; <span class="postTitle">How Microservices Saved the Day: Sean McCullough on Explosive Growth at Groupon</span></div></a></div><h2>Physics &amp; randomness</h2>
<p>In the previous example we adjusted the position of the particle each time it was drawn by adding to the X and Y positions. Since we were adding the same amount each time, the particle moved in a straight line.</p>
<p>We can adjust the way we calculate these X and Y positions by introducing velocity and gravity. Where X and Y describes the position of a particle, the velocity of a particle describes the rate at which it is moving in the X and Y axes. We will describe these as VX and VY:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// Initial velocities</span>
<span class="token keyword">var</span> vx <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
    vy <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
    gravity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
<p>The initial velocity means that each time the particle is drawn, it will be moving 10 pixels across and 10 pixels down. Since we set these values in variables, we can adjust them each time the <code>setInterval</code> function is called:</p>
<pre class=" language-javascript"><code class=" language-javascript">posX <span class="token operator">+</span><span class="token operator">=</span> vx<span class="token punctuation">;</span>
posY <span class="token operator">+</span><span class="token operator">=</span> vy<span class="token punctuation">;</span>
vy <span class="token operator">+</span><span class="token operator">=</span> gravity<span class="token punctuation">;</span>
</code></pre>
<p>Each time the particle is drawn we add the <code>vx</code> value to the particle’s X position, and the same for the corresponding Y position.</p>
<p>The particle begins with a negative value for the Y velocity, making it move up the screen. Since we then add the <code>gravity</code> value to the Y velocity, the particle slows as that value approaches zero, then accelerates as the Y velocity continues to increase each time.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_KzAbt" src="./Creating Particles in HTML5 Canvas - Modern Web_files/KzAbt.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 4" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>You can press <strong>Rerun</strong> to see the animation again. The example can be found at <a href="http://hop.ie/particles/examples/04-gravity-a.html">examples/04-gravity-a.html</a>.</p>
<h3>Bouncing</h3>
<p>With a little more logic we can have the particle bounce along rather than drop straight off the screen. Rather than simply adjust the Y velocity, we can test if the particle has reached a certain height and flip the direction of the particle.</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>posY <span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vy <span class="token operator">*</span><span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.6</span><span class="token punctuation">;</span>
  vx <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">0.75</span><span class="token punctuation">;</span>
  posY <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In this case we test to see if the particle’s height is greater than is 75 percent from the top of the canvas. If so, it’ll multiply it’s Y velocity by <em>minus</em> 0.6. This has the effect of both flipping it from a downward direction to upward, but also slows it down by 40%. If the particle has a Y velocity of 10 at this point, it would then become -6.</p>
<p>The next time the particle is drawn, it’s Y position would move up 6 pixels instead of down.</p>
<p>At the same time, the X velocity is reduced by 25%. This causes the particle to slow as it moves across the screen.</p>
<p>Since we are still applying the gravity adjustment to the Y velocity, the negative number will again approach zero and become positive, resulting in a bounce effect.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_diJua" src="./Creating Particles in HTML5 Canvas - Modern Web_files/diJua.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 3" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example is at <a href="http://hop.ie/particles/examples/04-gravity-b.html">examples/04-gravity-b.html</a>.</p>
<h2>Randomness</h2>
<p>So far we’ve created some particles, animated them, and added some gravity into the equation. Next we’ll extend the example to generate multiple particles and add in some randomness in the way they move.</p>
<h3>Generating particles</h3>
<p>Where we have been working with just the one particle so far, we need to extend our code to generate multiple particles.</p>
<p>To do this we will create a function called <code>Particle</code> that will be called as many times as we need and will create a particle each time. It will act as a generator for each particle and allow us to manipulate them, have them move independently, and be removed without affecting other particles.</p>
<p>First though, we’ll want to reuse some settings within this particle function so we’ll set up the settings as an object.</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> particles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    particleIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    settings <span class="token operator">=</span> <span class="token punctuation">{</span>
      density<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      particleSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      startingX<span class="token punctuation">:</span> canvas<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
      startingY<span class="token punctuation">:</span> canvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
      gravity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
      maxLife<span class="token punctuation">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>We have initialised an empty <code>particles</code> object, to contain the generated particles, and then set some values which we will use in the function. These settings will be useful later when we add more interactivity and allow them to be changed on the fly. For now though, here’s the function that will generate a particle:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Establish starting positions and velocities</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> settings<span class="token punctuation">.</span>startingX<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> settings<span class="token punctuation">.</span>startingY<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Random X and Y velocities</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>vx <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>vy <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Add new particle to the index</span>
  particleIndex <span class="token operator">++</span><span class="token punctuation">;</span>
  particles<span class="token punctuation">[</span>particleIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> particleIndex<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Taking its values from the settings, this function sets (using <code>this</code>) both the initial X and Y positions. The X and Y velocities are then generated using JavaScript’s <code>Math.random()</code> method. With the starting position and velocities generated, it then increments a cursor (<code>particleIndex</code>) and uses this cursor to place this particle into the <code>particles</code> object.</p>
<p>Rather than use an array to hold the set of particles, it’s easier to manage an object with keys and values, as it makes removing the particles later easier.</p>
<p>Lastly we set the <code>life</code> of the particle to zero. This is a counter we’ll use to determine when to have the particle vanish so that the screen doesn’t end up full of particles.</p>
<h3>Drawing the many particles</h3>
<p>So far we have an object containing multiple particles. We need to create a method that draws these particles on the screen, and updates their position according to the velocity settings.</p>
<p>To draw the on the screen we can extend the <code>Particle</code> function by adding a <code>draw</code> method.</p>
<pre class=" language-javascript"><code class=" language-javascript">Particle<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vx<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vy<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Adjust for gravity</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>vy <span class="token operator">+</span><span class="token operator">=</span> settings<span class="token punctuation">.</span>gravity<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Age the particle</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token operator">++</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// If Particle is old, remove it</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">&gt;=</span> settings<span class="token punctuation">.</span>maxLife<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">delete</span> particles<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// Create the shapes</span>
  context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>leftWall<span class="token punctuation">,</span> settings<span class="token punctuation">.</span>groundLevel<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">"#ffffff"</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span>PI<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This method achieves a couple of things. Firstly it adjusts the particle’s velocity by adding on the particle’s velocity to its position. Since these velocity values have been randomly generated, it results in the particle being moved a random amount in both axes.</p>
<p>The Y axis is adjusted for gravity, as before. We then “age” the particle by incrementing it’s <code>life</code> value. When this <code>life</code> value reaches the <code>maxlife</code> value, it is then removed.</p>
<p>If it’s not removed, we then finish by drawing the particle on the canvas.</p>
<p>The result is a random-looking spray of particles, falling off the screen with the effect of gravity.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_qwxLl" src="./Creating Particles in HTML5 Canvas - Modern Web_files/qwxLl.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 2" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example is at <a href="http://hop.ie/particles/examples/05-multiple.html">examples/05-multiple.html</a>.</p>
<div style="clear:both; margin-top:0em; margin-bottom:1em;"><a href="https://modernweb.com/groupon-microservices/" target="_blank" rel="nofollow" class="udacb9e2a57db42d2f273897ec5bca199"><style> .udacb9e2a57db42d2f273897ec5bca199 { padding:0px; margin: 0; padding-top:1em!important; padding-bottom:1em!important; width:100%; display: block; font-weight:bold; background-color:#34495E; border:0!important; border-left:4px solid #27AE60!important; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); text-decoration:none; } .udacb9e2a57db42d2f273897ec5bca199:active, .udacb9e2a57db42d2f273897ec5bca199:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; text-decoration:none; } .udacb9e2a57db42d2f273897ec5bca199 { transition: background-color 250ms; webkit-transition: background-color 250ms; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; } .udacb9e2a57db42d2f273897ec5bca199 .ctaText { font-weight:bold; color:#FFFFFF; text-decoration:none; font-size: 16px; } .udacb9e2a57db42d2f273897ec5bca199 .postTitle { color:#FFFFFF; text-decoration: underline!important; font-size: 16px; } .udacb9e2a57db42d2f273897ec5bca199:hover .postTitle { text-decoration: underline!important; } </style><div style="padding-left:1em; padding-right:1em;"><span class="ctaText">See Also:</span>&nbsp; <span class="postTitle">How Microservices Saved the Day: Sean McCullough on Explosive Growth at Groupon</span></div></a></div><h2>Walls</h2>
<p>Using some ideas from the <a href="http://hop.ie/particles/examples/04-gravity-b.html">gravity example earlier</a>, we can add some walls to bounce the particles around.</p>
<p>Begin by setting some values for where the walls will be placed:</p>
<pre class=" language-javascript"><code class=" language-javascript">settings <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  groundLevel<span class="token punctuation">:</span> canvas<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">,</span>
  leftWall<span class="token punctuation">:</span> canvas<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.25</span><span class="token punctuation">,</span>
  rightWall<span class="token punctuation">:</span> canvas<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.75</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>We add some extra values to the settings object. A ground level, left wall and right wall are represented as being 3/4 of the way down the canvas, 1/4 in from the left and 3/4 across the canvas. When drawing the particles we can check the particle’s position against these values, and reverse the particle’s motion when it hit’s a “wall”.</p>
<p>Let’s add a few lines to the <code>draw</code> method to check for these walls:</p>
<pre class=" language-javascript"><code class=" language-javascript">Particle<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token comment" spellcheck="true">// Bounce off the ground</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">)</span> <span class="token operator">&gt;</span> settings<span class="token punctuation">.</span>groundLevel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vy <span class="token operator">*</span><span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.6</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vx <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">0.75</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> settings<span class="token punctuation">.</span>groundLevel <span class="token operator">-</span> settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// Determine whether to bounce the particle off a wall</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> settings<span class="token punctuation">.</span>leftWall<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vx <span class="token operator">*</span><span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> settings<span class="token punctuation">.</span>leftWall <span class="token operator">+</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> settings<span class="token punctuation">.</span>rightWall<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vx <span class="token operator">*</span><span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> settings<span class="token punctuation">.</span>rightWall <span class="token operator">-</span> settings<span class="token punctuation">.</span>particleSize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// Adjust for gravity</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>vy <span class="token operator">+</span><span class="token operator">=</span> settings<span class="token punctuation">.</span>gravity<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Age the particle</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre>
<p>There are three comparisons happening here. First, the particle’s Y position is checked to see if it’s greater that the ground level. The position value is measured from the top of the screen so in this case, a large number means further down the screen.</p>
<p>We also allow for the size of the particle, as the Y value is actually the top-left corner of the particle. By adding on the particle’s size, we prevent the particle’s bottom from moving through the wall.</p>
<h3>Drawing the walls</h3>
<p>While this covers the “bounce” effect of the particles, we can make it look better by drawing in some walls. Adjust the <code>setinterval</code> function to contain the following:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token comment" spellcheck="true">// Draw a left, right walls and floor</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"white"</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> settings<span class="token punctuation">.</span>leftWall<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>rightWall<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> settings<span class="token punctuation">.</span>groundLevel<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<p>We’re drawing 3 rectangles in white which start at the wall positions we put in the settings earlier.</p>
<div class="cp_embed_wrapper"><iframe id="cp_embed_FHtwk" src="./Creating Particles in HTML5 Canvas - Modern Web_files/FHtwk.html" scrolling="no" frameborder="0" height="380" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="CodePen Embed 1" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><script async="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/ei.js.download"></script>
<p>This example is at <a href="http://hop.ie/particles/examples/06-walls.html">examples/06-walls.html</a>.</p>
<h2>Adjustable settings</h2>
<p>Since we’re using a <code>settings</code> object to hold the settings, we can adjust them easily and see the effects changing on the canvas. If you go into any of the later example files, this is a great way to experiment and see how changing various values can result in very different effects.</p>
<p>We can go further and make use of a great plugin called <a href="https://workshop.chromeexperiments.com/examples/gui/#1--Basic-Usage">dat.gui</a> to make it easier to play with these settings.</p>
<p>Setting up <code>dat.gui</code> is simply a case of referencing the JavaScript plugin, and telling it which values we’d like to play with. Firstly, we’ll call in the script from a CDN:</p>
<pre class=" language-markup"><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>Then with that included, we can initialize it and tell it which settings we’d like to use:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> gui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">dat<span class="token punctuation">.</span>GUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>A <code>gui</code> object is initialized using <code>new dat.GUI()</code> and then from here each of the various settings is added. These are structured as follows:</p>
<pre class=" language-javascript"><code class=" language-javascript">gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">'property'</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span>
</code></pre>
<p>In this case, <code>object</code> is the JavaScript object containing preset values. A property within that object is then specified, and finally a possible range of values that it can use. In our case we specify a bunch of settings like this:</p>
<pre class=" language-javascript"><code class=" language-javascript">gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'density'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'particleSize'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'gravity'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'startingY'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">0.75</span> <span class="token punctuation">)</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'groundLevel'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height <span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'leftWall'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'rightWall'</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.6</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> <span class="token string">'blur'</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Going through this list we see various items that are reflected in the <code>settings</code> object. The particle density takes a value between 0 and 5, and other settings include the size of the particles, positions of the walls and many others. See it in action:</p>
<p>For performance reasons, it’s best to <a href="http://hop.ie/particles/examples/07-settings.html">run this in another tab</a>. Play with the settings and see the results in real time.</p>
<p>Lots more great examples can be found on the <a href="https://workshop.chromeexperiments.com/examples/gui/#1--Basic-Usage">dat.gui</a> website.</p>
<h2>Going further</h2>
<h3>Blur</h3>
<p>If you’re reading closely you may have noticed a <code>blur</code> setting in the previous code. Something you can do with canvas is adjust the transparency of the color being drawn to the canvas.</p>
<p>With RGBA, we adjusting the <code>alpha</code> part results in a slightly-transparent block of color being drawn over the scene.</p>
<p>If the alpha value is lower, it takes more redraws to completely hide the particle, and the result is a kind of blur as previous versions of the particle show through.</p>
<p>Play with the <code>blur</code> value in <a href="http://hop.ie/particles/examples/07-settings.html">the settings example</a> to see how this changes the way the scene looks.</p>
<h3>Using background images</h3>
<p>Rather than stick with plain particles against a flat background, we can set up a more interesting scene by using background graphics.</p>
<p>Up till now we’ve been redrawing the scene by drawing a solid black box over the canvas each time. It’s possible to instead erase the canvas contents using <code>clearRect</code>:</p>
<pre class=" language-javascript"><code class=" language-javascript">context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This preserves the transparent background and allows anything that is behind the canvas to show through.</p>
<p>You could then add a background image and layer the canvas effect on top:</p>
<p><a href="./Creating Particles in HTML5 Canvas - Modern Web_files/fountain_small.gif"><img class="alignnone size-full wp-image-2314" src="./Creating Particles in HTML5 Canvas - Modern Web_files/fountain_small.gif" alt="fountain_small" width="300" height="230"></a></p>
<p>See this <a href="http://hop.ie/particles/fountain.html">fountain example live here</a>.</p>
<p>In this example, I’ve included a great photo by <a href="http://econtent.arizona.edu/people/garry-forger">Garry Forger</a> of The University of Arizona, of the <a href="http://parentseyes.arizona.edu/placesinthesun/alexander.php">Alexander Berger Memorial Fountain</a>.</p>
<h2>Sparking ideas</h2>
<p>Canvas is a great way to create self-contained, animated content within web pages without the need for any additional plugins or downloads. While browser support is not 100% yet, it’s at a stage now where we can confidently start using the technology and looking for ways it can add extra value to our projects.</p>
<p>I hope this introduction to canvas and particles has inspired some ideas of your own. I look forward to seeing what great things you create and share.</p>
<p>If you’d like to learn more about canvas, <a href="http://beta.theexpressiveweb.com/#!/html5-canvas/">The Expressive Web</a> has a great overview and reference to the subject.</p>
<p>I can be found on Twitter as <a href="https://twitter.com/donovanh">@donovanh</a> and am always happy to answer any questions, and hear your ideas.</p>
<p><em>This article was originally published at <a href="http://hop.ie/blog/particles/">http://hop.ie/blog/particles/</a></em></p>
<div id="om-g9walg85bbdgxnst-holder"></div><script>var g9walg85bbdgxnst,g9walg85bbdgxnst_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){g9walg85bbdgxnst_poll(function(){if(window['om_loaded']){if(!g9walg85bbdgxnst){g9walg85bbdgxnst=new OptinMonsterApp();return g9walg85bbdgxnst.init({"u":"2583.557438","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;g9walg85bbdgxnst=new OptinMonsterApp();g9walg85bbdgxnst.init({"u":"2583.557438","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script>
<div class="article__author">
<div class="article__author-thumb"><a href="https://modernweb.com/author/donovanh"><img alt="" src="./Creating Particles in HTML5 Canvas - Modern Web_files/1a6020189d9fe61133b965ca7a4a78b7(1)" srcset="https://secure.gravatar.com/avatar/1a6020189d9fe61133b965ca7a4a78b7?s=166&amp;d=mm&amp;r=g 2x" class="avatar avatar-83 photo" height="83" width="83"></a></div>
<div class="article__author-content">
<h3><em><a href="https://modernweb.com/author/donovanh">Donovan Hutchinson</a></em></h3>
<p><em>Donovan Hutchinson is a&nbsp;Dublin based front-end web developer, building for the web for close to 15 years both on server-side and front-end projects.<br>
<br>
Nowadays he is mostly working with front-end CSS, HTML and Javascript, both in a load of fun side projects, and within his role as Director of UX for mobile CRM company,&nbsp;<a href="http://converser.io/">Converser</a>.&nbsp;He occasionally talk on such topics as&nbsp;<a href="http://hop.ie/talks/angular-intro/">AngularJS</a>,&nbsp;<a href="http://hop.ie/talks/css-animation/">CSS3 Animation</a>&nbsp;and <a href="http://hop.ie/talks/node-intro/">Node.js</a>.<br>
<br>
<a href="https://twitter.com/donovanh">Follow Donovan on Twitter</a><br>
<br>
<a href="http://hop.ie/">Visit Donovan's site</a></em></p>
</div>
</div>

<div class="dcl-disqus-thread" id="comments">
<div id="disqus_thread">
</div>
</div>
<script type="text/javascript">
	/* <![CDATA[ */
		var disqus_url = 'https://modernweb.com/creating-particles-in-html5-canvas/';
		var disqus_identifier = '2313 http://flippinawesome.org/?p=2313';
		var disqus_container_id = 'disqus_thread';
		var disqus_domain = 'disqus.com';
		var disqus_shortname = 'flippinawesome';
		var disqus_title = "Creating Particles in HTML5 Canvas";
		var disqus_config = function () {
			var config = this; // Access to the config object
			config.language = '';

			/* Add the ability to add javascript callbacks */
			
			/*
			   All currently supported events:
				* preData — fires just before we request for initial data
				* preInit - fires after we get initial data but before we load any dependencies
				* onInit  - fires when all dependencies are resolved but before dtpl template is rendered
				* afterRender - fires when template is rendered but before we show it
				* onReady - everything is done
			 */

			config.callbacks.preData.push(function() {
				// clear out the container (its filled for SEO/legacy purposes)
				document.getElementById(disqus_container_id).innerHTML = '';
			});
						config.callbacks.onReady.push(function() {
				// sync comments in the background so we don't block the page
				var script = document.createElement('script');
				script.async = true;
				script.src = '?cf_action=sync_comments&post_id=2313';

				var firstScript = document.getElementsByTagName( "script" )[0];
				firstScript.parentNode.insertBefore(script, firstScript);
			});
								};
	/* ]]> */
	</script>
<script type="text/javascript">
	/* <![CDATA[ */
		var DsqLocal = {
			'trackbacks': [
				],
			'trackback_url': "https:\/\/modernweb.com\/creating-particles-in-html5-canvas\/trackback\/"		};
	/* ]]> */
	</script>
</article>
</div>
</section>
<footer class="footer">
<div class="container --small">
<a class="footer__left" href="https://modernweb.com/">
<img src="./Creating Particles in HTML5 Canvas - Modern Web_files/modernweb-logo.svg" alt="Modern Web logo" width="190" height="32">
<p>© 2017 Modern Web &amp; our authors.<br>All rights reserved.</p>
</a>
<div class="footer__right">
<div class="footer__column">
<h5 class="footer__title">Articles</h5>
<ul id="menu-categories-1" class="footer__links"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4274"><a href="https://modernweb.com/category/design/">Design</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4272"><a href="https://modernweb.com/category/frontend-development/">Frontend Development</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-4273"><a href="https://modernweb.com/category/backend-development/">Backend Development</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4276"><a href="https://modernweb.com/category/devops/">DevOps</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4275"><a href="https://modernweb.com/category/work/">Work</a></li>
</ul> </div>
<div class="footer__column">
<h5 class="footer__title">Company</h5>
<ul class="footer__links">
<li><a href="https://modernweb.com/authors">Authors</a></li>
<li><a href="https://modernweb.com/about">About</a></li>
<li><a href="https://modernweb.com/terms-conditions">Terms and conditions</a></li>
<li><a href="https://modernweb.com/privacy-policy">Privacy policy</a></li>
</ul>
</div>
</div>
</div></footer>
</div>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-44065579-2', 'auto');
    ga('require', 'GTM-N97L9PT');
    ga('send', 'pageview');
  </script>
<style>.async-hide { opacity: 0 !important} </style>
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
  })(window,document.documentElement,'async-hide','dataLayer',4000,
  {'GTM-N97L9PT':true});</script>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-T3ZPRS');</script>


<noscript>&lt;iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3ZPRS"
  height="0" width="0" style="display:none;visibility:hidden"&gt;&lt;/iframe&gt;</noscript>


<script type="text/javascript">
    (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
      n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/2591117.js';
      e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
  </script>

<script type="text/javascript">
var fesdpid = 'ZpZGgHqkOY';
var fesdp_BaseURL = (("https:" == document.location.protocol) ? "https://fe.sitedataprocessing.com/fewv1/" : "http://fe.sitedataprocessing.com/fewv1/");
(function () {
var va = document.createElement('script'); va.type = 'text/javascript'; va.async = true;
va.src = fesdp_BaseURL + 'Scripts/fewliveasync.js';
var sv = document.getElementsByTagName('script')[0]; sv.parentNode.insertBefore(va, sv);
})();
</script>
<script src="./Creating Particles in HTML5 Canvas - Modern Web_files/bundle.js.download"></script>
<div id="om-nqmrgq4jwbxr5bb85gcx-holder"></div><script>var nqmrgq4jwbxr5bb85gcx,nqmrgq4jwbxr5bb85gcx_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){nqmrgq4jwbxr5bb85gcx_poll(function(){if(window['om_loaded']){if(!nqmrgq4jwbxr5bb85gcx){nqmrgq4jwbxr5bb85gcx=new OptinMonsterApp();return nqmrgq4jwbxr5bb85gcx.init({"u":"2583.581978","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;nqmrgq4jwbxr5bb85gcx=new OptinMonsterApp();nqmrgq4jwbxr5bb85gcx.init({"u":"2583.581978","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script><div id="om-moqdya5gu8yschbv-holder"></div><script>var moqdya5gu8yschbv,moqdya5gu8yschbv_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){moqdya5gu8yschbv_poll(function(){if(window['om_loaded']){if(!moqdya5gu8yschbv){moqdya5gu8yschbv=new OptinMonsterApp();return moqdya5gu8yschbv.init({"u":"2583.557523","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;moqdya5gu8yschbv=new OptinMonsterApp();moqdya5gu8yschbv.init({"u":"2583.557523","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script> <script type="text/javascript">var g9walg85bbdgxnst_shortcode = true;var nqmrgq4jwbxr5bb85gcx_shortcode = true;var moqdya5gu8yschbv_shortcode = true;</script>
<script type="text/javascript" src="./Creating Particles in HTML5 Canvas - Modern Web_files/wp-embed.min.js.download"></script>
<script data-cfasync="false" type="text/javascript">

    var disqus_shortname = "flippinawesome";
    if (typeof ds_loaded == "undefined") {
        var ds_loaded = false;
    }
    function loadDisqus() {
        var disqus_div = document.getElementById("disqus_thread");
        var top = disqus_div.offsetTop;
        var disqus_data = disqus_div.dataset;
        if ( !ds_loaded && ( window.scrollY || window.pageYOffset ) + window.innerHeight > top ) {
            ds_loaded = true;
            for (var key in disqus_data) {
                if (key.substr(0,6) == "disqus") {
                    window["disqus_" + key.replace("disqus","").toLowerCase()] = disqus_data[key];
								}
                }
                var dsq = document.createElement("script");
                dsq.type = "text/javascript";
                dsq.async = true;
                dsq.src = "https://" + window.disqus_shortname + ".disqus.com/embed.js";
                if(document.getElementById("dcl-hidden-div")) {
                    document.getElementById("dcl-hidden-div").innerHTML = "Loading...";
                }
                (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
            }
        }
					var disqus_div_new = document.getElementById("disqus_thread");
		var divExists = disqus_div_new != null;
                if(document.body.scrollHeight < window.innerHeight){
                    loadDisqus();
                } else if(divExists) {
                    window.onscroll = function() { loadDisqus(); }
                }
	</script><script data-cfasync="false" type="text/javascript">
                /* <![CDATA[ */
                var hash = window.location.hash;
                var disqus_shortname = 'flippinawesome';
                if(hash!==''){
                    var ds_loaded = true;
                    var dcl_loaded = 1;
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript';
                        dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/' + 'embed' + '.js' + '?pname=wordpress&pver=2.84';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();}
                /* ]]> */
            </script> <script type="text/javascript">var omapi_localized = { ajax: 'https://modernweb.com/wp-admin/admin-ajax.php?optin-monster-ajax-route=1', nonce: 'c2c0fa766b', slugs: {"g9walg85bbdgxnst":{"slug":"g9walg85bbdgxnst","mailpoet":false},"nqmrgq4jwbxr5bb85gcx":{"slug":"nqmrgq4jwbxr5bb85gcx","mailpoet":false},"moqdya5gu8yschbv":{"slug":"moqdya5gu8yschbv","mailpoet":false}} };</script>


</body></html>